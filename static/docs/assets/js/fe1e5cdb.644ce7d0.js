"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[1693],{3905:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>u});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=n.createContext({}),p=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},d=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),f=p(r),u=o,m=f["".concat(l,".").concat(u)]||f[u]||c[u]||a;return r?n.createElement(m,i(i({ref:t},d),{},{components:r})):n.createElement(m,i({ref:t},d))}));function u(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,i=new Array(a);i[0]=f;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var p=2;p<a;p++)i[p]=r[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}f.displayName="MDXCreateElement"},8768:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>a,metadata:()=>s,toc:()=>p});var n=r(7462),o=(r(7294),r(3905));const a={title:"Granting staff privileges"},i=void 0,s={unversionedId:"staff/procedures/granting-privileges",id:"staff/procedures/granting-privileges",title:"Granting staff privileges",description:"Adding people to groups",source:"@site/docs/staff/procedures/granting-privileges.md",sourceDirName:"staff/procedures",slug:"/staff/procedures/granting-privileges",permalink:"/docs/staff/procedures/granting-privileges",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/staff/procedures/granting-privileges.md",tags:[],version:"current",frontMatter:{title:"Granting staff privileges"},sidebar:"tutorialSidebar",previous:{title:"Making OCF Google Apps accounts",permalink:"/docs/staff/procedures/gapps"},next:{title:"Adding users to the HPC cluster",permalink:"/docs/staff/procedures/hpc"}},l={},p=[{value:"Adding people to groups",id:"adding-people-to-groups",level:2},{value:"<code>ocfstaff</code>",id:"ocfstaff",level:3},{value:"<code>ocfroot</code>",id:"ocfroot",level:3},{value:"Granting IRC chanop status",id:"granting-irc-chanop-status",level:2},{value:"Granting firewall access",id:"granting-firewall-access",level:2}],d={toc:p};function c(e){let{components:t,...r}=e;return(0,o.kt)("wrapper",(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"adding-people-to-groups"},"Adding people to groups"),(0,o.kt)("h3",{id:"ocfstaff"},(0,o.kt)("inlineCode",{parentName:"h3"},"ocfstaff")),(0,o.kt)("p",null,"If you have root privileges, you can add or remove people from ",(0,o.kt)("inlineCode",{parentName:"p"},"ocfstaff")," by\nediting the group in LDAP:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ kinit you/admin\nyou/admin@OCF.BERKELEY.EDU's Password:\n$ ldapvi cn=ocfstaff\n")),(0,o.kt)("p",null,"Then add or remove the appropriate ",(0,o.kt)("inlineCode",{parentName:"p"},"memberUid")," attribute."),(0,o.kt)("h3",{id:"ocfroot"},(0,o.kt)("inlineCode",{parentName:"h3"},"ocfroot")),(0,o.kt)("p",null,"Before giving anyone root privileges, make sure to obtain authorization from\nthe SM."),(0,o.kt)("p",null,"Adding or removing people from ",(0,o.kt)("inlineCode",{parentName:"p"},"ocfroot")," is similar to modifying\n",(0,o.kt)("inlineCode",{parentName:"p"},"ocfstaff"),". However, if you are adding someone to root staff, in addition to\nmodifying LDAP, you will also have to create their ",(0,o.kt)("inlineCode",{parentName:"p"},"/root")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"/admin"),"\nprincipals (if those don't already exist). For example, to create the\n",(0,o.kt)("inlineCode",{parentName:"p"},"/admin")," principal, you would do:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ kadmin\nkadmin> add otherstaffer/admin\nyou/admin@OCF.BERKELEY.EDU's Password:\nMax ticket life [1 day]:\nMax renewable life [1 week]:\nPrincipal expiration time [never]:\nPassword expiration time [never]:\nAttributes []:\nPolicy [default]:\notherstaffer/admin@OCF.BERKELEY.EDU's Password:\nVerify password - otherstaffer/admin@OCF.BERKELEY.EDU's Password:\n")),(0,o.kt)("p",null,"At the very first prompt, you are prompted for your password. It's safe to\naccept the defaults for the next few prompts. The last two prompts should be\nfilled in by the new root staffer; it will become the password for their\n",(0,o.kt)("inlineCode",{parentName:"p"},"/root")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"/admin")," principal."),(0,o.kt)("p",null,"After you've created these principals, you'll need to grant them powers in the\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/ocf/puppet/blob/master/modules/ocf_kerberos/files/kadmind.acl"},"Kerberos ACL file in Puppet"),"."),(0,o.kt)("p",null,"Also add the new root staffer to the Admin team in our GitHub org and grant\nthem RT admin privileges."),(0,o.kt)("h2",{id:"granting-irc-chanop-status"},"Granting IRC chanop status"),(0,o.kt)("p",null,"TODO"),(0,o.kt)("h2",{id:"granting-firewall-access"},"Granting firewall access"),(0,o.kt)("p",null,"In order to gain access to the firewall, it is necessary to email someone\nfrom the ASUC Student Union to ask them to fill out the Telecom Shopping\nCart on your behalf. Send them an email with the CalNet IDs of the people\nyou want to add to the firewall, and have an existing firewall administrator\nauthorize the request. As of Fall 2017, the\n",(0,o.kt)("a",{parentName:"p",href:"https://studentunion.berkeley.edu/our-team/"},"Facilities Coordinator")," has\nworked to get new people added to the firewall, although it is likely that\nthis process will change in Spring/Fall 2018 when the firewall is changed as\npart of the ",(0,o.kt)("a",{parentName:"p",href:"https://bsecure.berkeley.edu"},"bSecure")," project."))}c.isMDXComponent=!0}}]);