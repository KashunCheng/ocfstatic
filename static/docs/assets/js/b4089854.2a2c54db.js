"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[9710],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>f});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=n.createContext({}),c=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,s=e.originalType,l=e.parentName,u=a(e,["components","mdxType","originalType","parentName"]),d=c(r),f=o,m=d["".concat(l,".").concat(f)]||d[f]||p[f]||s;return r?n.createElement(m,i(i({ref:t},u),{},{components:r})):n.createElement(m,i({ref:t},u))}));function f(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var s=r.length,i=new Array(s);i[0]=d;var a={};for(var l in t)hasOwnProperty.call(t,l)&&(a[l]=t[l]);a.originalType=e,a.mdxType="string"==typeof e?e:o,i[1]=a;for(var c=2;c<s;c++)i[c]=r[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},7029:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>s,metadata:()=>a,toc:()=>c});var n=r(7462),o=(r(7294),r(3905));const s={title:"sorry: disable an OCF account"},i=void 0,a={unversionedId:"staff/scripts/sorry",id:"staff/scripts/sorry",title:"sorry: disable an OCF account",description:"Introduction",source:"@site/docs/staff/scripts/sorry.md",sourceDirName:"staff/scripts",slug:"/staff/scripts/sorry",permalink:"/docs/staff/scripts/sorry",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/staff/scripts/sorry.md",tags:[],version:"current",frontMatter:{title:"sorry: disable an OCF account"},sidebar:"tutorialSidebar",previous:{title:"signat: check signatory status",permalink:"/docs/staff/scripts/signat"},next:{title:"ssh-list: run command via SSH on many hosts simultaneously",permalink:"/docs/staff/scripts/ssh-list"}},l={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Usage/Example",id:"usageexample",level:2}],u={toc:c};function p(e){let{components:t,...r}=e;return(0,o.kt)("wrapper",(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"introduction"},"Introduction"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"sorry")," is the command used to disable OCF accounts. Accounts are disabled\nfor various reasons, including but not limited to violating OCF/university\npolicies, security issues, lack of contact information, etc. Alumni also\nsometimes request to have their accounts disabled to stop vhosts, take down\ninformation, or for myriad other reasons."),(0,o.kt)("h2",{id:"usageexample"},"Usage/Example"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"Usage: sorry [user to be sorried] [sorry file]\n")),(0,o.kt)("p",null,"Sorrying a user changes their login shell to the sorryshell,\n(/opt/share/utils/bin/sorried), copies the sorry file (containing the reason\nthey were sorried) to ~user/.sorry, ",(0,o.kt)("inlineCode",{parentName:"p"},"chmod 000"),"'s the user's httpdir, ",(0,o.kt)("inlineCode",{parentName:"p"},"chmod 500"),"'s the user's homedir, and adds the user to the \"sorry\" group, before\nemailing them with the reason they were sorried. If a sorried user attempts to\nlog in, they will be rebuffed."),(0,o.kt)("p",null,"You will need an admin and root principal (or, atleast, ocfroot membership) in\norder to run this command, which should preferably be run on supernova in order\nto find all the appropriate files."),(0,o.kt)("p",null,"All sorry files are stored in ",(0,o.kt)("a",{parentName:"p",href:"//github.com/ocf/utils"},"ocf/utils")," under\n",(0,o.kt)("inlineCode",{parentName:"p"},"staff/acct/sorry/"),", which is where they should be edited if necessary. Puppet\nclones this repo to ",(0,o.kt)("inlineCode",{parentName:"p"},"/opt/share/utils/")," on all the computers."),(0,o.kt)("p",null,"After sorrying a user, make sure to run the ",(0,o.kt)("inlineCode",{parentName:"p"},"note")," command to document the\nreasoning to ~staff/User_Info. This reason will be read to future users running\n",(0,o.kt)("inlineCode",{parentName:"p"},"check")," on the sorried user."),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"/docs/staff/scripts/unsorry"},"Unsorrying")," a user is also possible."),(0,o.kt)("p",null,"If a user is sending too much mail, it may be easier to ",(0,o.kt)("inlineCode",{parentName:"p"},"nomail")," the user\ninstead of sorrying their account. This involves adding the user to\n",(0,o.kt)("inlineCode",{parentName:"p"},"/etc/postfix/ocf/nomail")," on anthrax, at which point their ability to send\nmail will be removed."),(0,o.kt)("p",null,"See ",(0,o.kt)("inlineCode",{parentName:"p"},"how sorry")," for more information on the sorry command itself."))}p.isMDXComponent=!0}}]);