"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[6446],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>m});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),u=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=u(a),m=n,f=d["".concat(s,".").concat(m)]||d[m]||p[m]||o;return a?r.createElement(f,i(i({ref:t},c),{},{components:a})):r.createElement(f,i({ref:t},c))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:n,i[1]=l;for(var u=2;u<o;u++)i[u]=a[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}d.displayName="MDXCreateElement"},6292:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>u});var r=a(7462),n=(a(7294),a(3905));const o={title:"Mail"},i=void 0,l={unversionedId:"staff/backend/mail/mail",id:"staff/backend/mail/mail",title:"Mail",description:"anthrax is our mail server. It is used for sending and receiving all OCF",source:"@site/docs/staff/backend/mail/mail.md",sourceDirName:"staff/backend/mail",slug:"/staff/backend/mail/",permalink:"/docs/staff/backend/mail/",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/staff/backend/mail/mail.md",tags:[],version:"current",frontMatter:{title:"Mail"},sidebar:"tutorialSidebar",previous:{title:"KVM/Libvirt",permalink:"/docs/staff/backend/libvirt"},next:{title:"Virtual hosted mail",permalink:"/docs/staff/backend/mail/vhost"}},s={},u=[{value:"External relations",id:"external-relations",level:2}],c={toc:u};function p(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,r.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"anthrax")," is our mail server. It is used for sending and receiving all OCF\nmail, excluding staff use of Google Apps. Mail sent by users, websites, virtual\nhosts, or basically anything else goes through here."),(0,n.kt)("p",null,"Received mail to @ocf.berkeley.edu is forwarded to the address in the ",(0,n.kt)("inlineCode",{parentName:"p"},"mail"),"\nattribute of the LDAP account entry (or the ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/ocf/puppet/blob/master/modules/ocf_mail/files/site_ocf/aliases"},"aliases table"),")\nor rejected; nothing is stored."),(0,n.kt)("p",null,"Received virtual host mail is forwarded to the address stored in a MySQL\ntable. Outgoing virtual host mail is also via anthrax, which uses SMTP\nauthentication (passwords checked against ",(0,n.kt)("inlineCode",{parentName:"p"},"crypt(3)"),"'d passwords in a MySQL\ntable). ",(0,n.kt)("a",{parentName:"p",href:"/docs/staff/backend/mail/vhost"},"There's a whole page with more details about vhost mail.")),(0,n.kt)("p",null,"Mail originating anywhere inside the OCF relays through anthrax."),(0,n.kt)("h2",{id:"external-relations"},"External relations"),(0,n.kt)("p",null,"We maintain relations with external groups for two reasons."),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"To monitor our mail server reputation and prevent outgoing mail from being\nblocked by external service providers."),(0,n.kt)("li",{parentName:"ol"},"To monitor abuse and disable compromised accounts.")),(0,n.kt)("p",null,"When our IP addresses change, we need to update our registrations."),(0,n.kt)("p",null,"We have ",(0,n.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Feedback_loop_%28email%29"},"feedback\nloops")," with"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"AOL (out-of-date)"),(0,n.kt)("li",{parentName:"ul"},"Comcast (out-of-date)"),(0,n.kt)("li",{parentName:"ul"},"Cox (out-of-date)"),(0,n.kt)("li",{parentName:"ul"},"FastMail (out-of-date)"),(0,n.kt)("li",{parentName:"ul"},"Microsoft (Junk Email Reporting Agreement, 2013-03-06) (out-of-date)"),(0,n.kt)("li",{parentName:"ul"},"Rackspace (out-of-date)"),(0,n.kt)("li",{parentName:"ul"},"RoadRunner (out-of-date)"),(0,n.kt)("li",{parentName:"ul"},"Yahoo (out-of-date)")),(0,n.kt)("p",null,"We are whitelisted by"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"AOL (out-of-date)"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://www.dnswl.org/s/?s=berkeley.edu"},"DNSWL")," (out-of-date)"),(0,n.kt)("li",{parentName:"ul"},"Verizon (out-of-date)")),(0,n.kt)("p",null,"We are also registered with"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://www.abuse.net/lookup.phtml?domain=ocf.berkeley.edu"},"abuse.net")),(0,n.kt)("li",{parentName:"ul"},"SpamCop (ISP account set to receive summary reports)")))}p.isMDXComponent=!0}}]);